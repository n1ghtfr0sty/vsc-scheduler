# OpenCode Development Log - 2026-02-21

## Changes Made

### 1. Switched from better-sqlite3 to sql.js

**Reason:** better-sqlite3 requires native compilation which failed due to missing Windows SDK.

**Files Modified:**

- `package.json` - Replaced `better-sqlite3` with `sql.js`
- `src/db.js` - Rewrote to use sql.js with async initialization and proxy wrapper for sync API
- `src/seed.js` - Updated to use async `getDb()` 
- `src/schema.js` - Updated to use async `getDb()`
- `src/index.js` - Added db initialization and dynamic route loading before server starts

**Package Changes:**
- Removed: `better-sqlite3`
- Added: `sql.js`

### 2. Added stop script

- `package.json` - Added `"stop": "taskkill /F /IM node.exe /T 2>nul || echo No server running"` script

### 3. Database Working

- Database now initializes correctly
- Sample data seeded successfully
- Server starts and runs on port 3000

## Testing Credentials

| Role   | Email              | Password    |
|--------|-------------------|-------------|
| Admin  | admin@vsc.com     | password123 |
| Coach  | coach1@vsc.com    | password123 |
| Coach  | coach2@vsc.com    | password123 |
| Family | family1@vsc.com   | password123 |
| Family | family2@vsc.com   | password123 |
| Family | family3@vsc.com   | password123 |

## Notes

- sql.js is WebAssembly-based and works without native compilation
- The db.js wrapper provides a sync-like API for existing route handlers
- Database file stored at `data/vsc.db`

---

## 4. Dark Theme Color Styling

**Updated:** `public/css/style.css`

**Color Scheme:**
- Primary: Forest Green (#228B22) with gradient to darker (#1a6b1a)
- Secondary/Accent: Gold (#FFD700) with variations
- Background: Dark (#121212, #1a1a1a)
- Cards: Dark grey (#242424)
- Text: Light grey (#e0e0e0)
- Borders: Dark (#333333)

**Styling Updates:**
- Dark theme with modern aesthetics
- Gradient buttons and headers
- Gold accents for headings and highlights
- Smooth transitions and hover effects
- Improved card styling with subtle borders
- Better form inputs with focus states
- Scrollbar styling
- Responsive design improvements

---

## 5. Navigation Button Styling

**Updated:** `public/css/style.css`

**Changes:**
- Nav links now styled as buttons with gradient backgrounds
- 3D hover effect: buttons come towards user (translateY -2px + enhanced shadow)
- Gold gradient on hover for active/selected links
- Logout button also styled as button with red hover effect
- Subtle border and inset shadows for depth

---

## 6. Animated Soccer Ball Background

**Added:** `public/js/background.js`
**Modified:** `public/index.html`, `public/css/style.css`

**Features:**
- Canvas-based animated background with floating soccer balls
- Subtle green soccer ball particles with gold pattern details
- Slow, gentle movement with rotation
- Very low opacity (2-10%) so it doesn't distract from content
- Semi-transparent app container with blur effect
- Responsive particle count based on screen size
